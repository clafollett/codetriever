# Codetriever Environment Variables Template
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# Database Configuration
# ⚠️ WARNING: These are DEFAULT LOCAL DEVELOPMENT credentials only!
# ⚠️ NEVER use these in production - always use secure, unique credentials

# Database connection parameters (REQUIRED)
DB_HOST=localhost
DB_PORT=5433
DB_NAME=codetriever
DB_USER=codetriever
DB_PASSWORD=localdev123
DB_SSLMODE=disable

# Vector Database Configuration
QDRANT_URL=http://localhost:6334

# Qdrant Security (optional - automatically used if set)
# QDRANT_API_KEY=your_secure_api_key_here
# Note: If set, this API key will be automatically used for all Qdrant connections

# Embedding Configuration
EMBEDDING_MODEL=jinaai/jina-embeddings-v2-base-code
EMBEDDING_BACKEND=native

# For HuggingFace API (if using remote embeddings)
# HF_TOKEN=your_huggingface_token

# === NEW CENTRALIZED CONFIGURATION SYSTEM ===
# Application Profile (development, staging, production, test)
CODETRIEVER_PROFILE=development

# Embedding Configuration (overrides profile defaults)
# Uses architect's nested structure for better organization

# Provider Configuration
# CODETRIEVER_EMBEDDING_PROVIDER=local  # local|remote

# Model Configuration
CODETRIEVER_EMBEDDING_MODEL=jinaai/jina-embeddings-v2-base-code
# CODETRIEVER_EMBEDDING_MAX_TOKENS=8192
# CODETRIEVER_EMBEDDING_DIMENSION=512

# Performance Configuration
# CODETRIEVER_EMBEDDING_BATCH_SIZE=32
# CODETRIEVER_EMBEDDING_USE_GPU=true
# CODETRIEVER_EMBEDDING_GPU_DEVICE=cuda:0  # cuda:0, mps, metal, etc.
# CODETRIEVER_EMBEDDING_MEMORY_LIMIT_MB=4096

# Cache Configuration
# CODETRIEVER_EMBEDDING_CACHE_DIR=/path/to/cache
# CODETRIEVER_EMBEDDING_CACHE_ENABLED=true
# CODETRIEVER_EMBEDDING_CACHE_MAX_SIZE_MB=10240

# Indexing Configuration (overrides profile defaults)
# CODETRIEVER_INDEXING_MAX_CHUNK_TOKENS=512
# CODETRIEVER_INDEXING_CHUNK_OVERLAP_TOKENS=128
# CODETRIEVER_INDEXING_SPLIT_LARGE_UNITS=true
# CODETRIEVER_INDEXING_CONCURRENCY_LIMIT=4
# CODETRIEVER_INDEXING_EMBEDDING_BATCH_SIZE=32

# Vector Storage Configuration (overrides profile defaults)
# CODETRIEVER_VECTOR_STORAGE_URL=http://localhost:6333
# CODETRIEVER_VECTOR_STORAGE_COLLECTION_NAME=codetriever
# CODETRIEVER_VECTOR_STORAGE_DIMENSION=512
# CODETRIEVER_VECTOR_STORAGE_TIMEOUT_SECONDS=60

# Database Configuration (overrides profile defaults)
# CODETRIEVER_DATABASE_URL=postgresql://localhost:5432/codetriever
# CODETRIEVER_DATABASE_MAX_CONNECTIONS=10
# CODETRIEVER_DATABASE_TIMEOUT_SECONDS=60
# CODETRIEVER_DATABASE_AUTO_MIGRATE=true

# API Configuration (overrides profile defaults)
# CODETRIEVER_API_HOST=127.0.0.1
# CODETRIEVER_API_PORT=3000
# CODETRIEVER_API_TIMEOUT_SECONDS=60
# CODETRIEVER_API_ENABLE_CORS=true
# CODETRIEVER_API_ENABLE_DOCS=true

# Telemetry Configuration (overrides profile defaults)
# CODETRIEVER_TELEMETRY_ENABLED=true
# CODETRIEVER_TELEMETRY_OTLP_ENDPOINT=http://localhost:4317
# CODETRIEVER_TELEMETRY_TRACING_LEVEL=debug
# CODETRIEVER_TELEMETRY_ENABLE_METRICS=true
# CODETRIEVER_TELEMETRY_METRICS_PORT=9090
# CODETRIEVER_TELEMETRY_TRACE_SAMPLE_RATE=1.0
# CODETRIEVER_TELEMETRY_SERVICE_NAME=codetriever
# CODETRIEVER_TELEMETRY_ENVIRONMENT=development

# Memory Validation (optional - for production monitoring)
# CODETRIEVER_SYSTEM_MEMORY_MB=8192

# Environment Mode (data, dev, or prod) - LEGACY, use CODETRIEVER_PROFILE instead
# data = local data services only (PostgreSQL + Qdrant)
# dev = full development stack with API
# prod = production configuration
CODETRIEVER_ENV=data

# Note: For local development with docker-compose, the default values
# in docker-compose.dev.yml will be used if these aren't set